<!DOCTYPE html>
<html lang="en">
<head>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.6/Chart.bundle.min.js"></script>
<!--    <script>-->
<!--// import Chart from "chart.js";-->
<!--<script>-->


<!--  // var ctx = document.getElementById("myChart");-->
<!--  new Chart(document.getElementById("myChart"), {-->
<!--  type: 'line',-->
<!--  data: {-->
<!--    labels: [1500,1600,1700,1750,1800,1850,1900,1950,1999,2050],-->
<!--    datasets: [{-->
<!--        data: [86,114,106,106,107,111,133,221,783,2478],-->
<!--        label: "Africa",-->
<!--        borderColor: "#3e95cd",-->
<!--        fill: false-->
<!--      }, {-->
<!--        data: [282,350,411,502,635,809,947,1402,3700,5267],-->
<!--        label: "Asia",-->
<!--        borderColor: "#8e5ea2",-->
<!--        fill: false-->
<!--      }, {-->
<!--        data: [168,170,178,190,203,276,408,547,675,734],-->
<!--        label: "Europe",-->
<!--        borderColor: "#3cba9f",-->
<!--        fill: false-->
<!--      }, {-->
<!--        data: [40,20,10,16,24,38,74,167,508,784],-->
<!--        label: "Latin America",-->
<!--        borderColor: "#e8c3b9",-->
<!--        fill: false-->
<!--      }, {-->
<!--        data: [6,3,2,2,7,26,82,172,312,433],-->
<!--        label: "North America",-->
<!--        borderColor: "#c45850",-->
<!--        fill: false-->
<!--      }-->
<!--    ]-->
<!--  },-->
<!--  options: {-->
<!--    title: {-->
<!--      display: true,-->
<!--      text: 'World population per region (in millions)'-->
<!--    }-->
<!--  }-->
<!--});-->


<!--    </script>-->



    <script src="eel.js"></script>
    <script>
        // import * as inj from './classes'
        function callPython(){
            // eel.hello()

            var num_orifices = document.getElementById("num_of_orifices").value
            var diam_orifices = document.getElementById("diam_orifices").value
            var k_loss = document.getElementById("k_loss").value


            // let inj = new Injector(num_orifices,diam_orifices,k_loss)
            eel.injector(num_orifices, diam_orifices, k_loss)
            eel.run()
        }
        eel.expose(sendData);
        function sendData(data){
            var ctx = document.getElementById("myChart");
            var myChart = new Chart(ctx, {
            type: 'line',
            options: {
                scales: {
                    xAxis: {
                        ticks: {
                            maxTicksLimit: 5,
                            min: 0, // 18.1 * 8
                            max: 15, // 18.1 * 13
                            stepSize: 3,
                        },
                    }
                }
            },

            data: {
            // labels: ["Group 1", "Group 2", "Group 3"],
            // labels: [ 1, 2, 3],
            labels: data['time'],
            datasets: [{
                label: 'Groups',
                fill: false,
                tension: 0.1,
                borderColor: "red",
                // data: [12, 19, 3]
                data: data['pressure_chamber']



            }]
        }
    });



            var outputDiv = document.getElementById("demo")
            outputDiv.innerHTML = data['time']
        }
    </script>



    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="myChart" width="200" height="100"></canvas>

<!-- <form action="/action_page.php">-->
  <label for="num_of_orifices">Num of orifices:</label><br>
  <input type="text" id="num_of_orifices" name="num_of_orifices" value="36"><br>
  <label for="diam_orifices">Diameter of orifices:</label><br>
  <input type="text" id="diam_orifices" name="diam_orifices" value="1.5"><br><br>
  <label for="k_loss">K_loss:</label><br>
  <input type="text" id="k_loss" name="k_loss" value="4.2"><br><br>
  <input type="submit" value="Submit" onclick="callPython()">

<p id="demo"></p>
<!--</form>-->
<!--<button onclick="callPython()">Click me!</button>-->
</body>

<!--<canvas id="myChart" width="400" height="400"></canvas>-->
<!--<script>-->
<!--    var ctx = document.getElementById("myChart");-->
<!--    var myChart = new Chart(ctx, {-->
<!--        type: 'line',-->
<!--        data: {-->
<!--            // labels: ["Group 1", "Group 2", "Group 3"],-->
<!--            labels: [ 1, 2, 3],-->
<!--            datasets: [{-->
<!--                label: 'Groups',-->
<!--                data: [12, 19, 3]-->
<!--            }]-->
<!--        }-->
<!--    });-->
<!--</script>-->
</html>